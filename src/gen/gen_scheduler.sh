export LJP_NO_CACHE=1
export LJP_OUT_DIR="./out"
export LJP_GEN_ONLY=1
export SAFETY=0

info_str="----------------------------------------------------\n-- Auto generated by gen_scheduler.tl\n-- DO NOT edit this file!\n----------------------------------------------------\n"

export ACC_TIME=0
export NORMAL=1
export STEP=0
file=$VERILUA_HOME/src/lua/verilua/scheduler/LuaNormalSchedulerV2.lua
luajit gen_scheduler.tl
mv ./out/gen_scheduler.tl ./out/LuaNormalSchedulerV2.lua
cp ./out/LuaNormalSchedulerV2.lua $file
sed -i "1i\\$info_str" $file

export ACC_TIME=0
export NORMAL=0
export STEP=1
file=$VERILUA_HOME/src/lua/verilua/scheduler/LuaStepSchedulerV2.lua
luajit gen_scheduler.tl
mv ./out/gen_scheduler.tl ./out/LuaStepSchedulerV2.lua
cp ./out/LuaStepSchedulerV2.lua $file
sed -i "1i\\$info_str" $file

export ACC_TIME=1
export NORMAL=1
export STEP=0
file=$VERILUA_HOME/src/lua/verilua/scheduler/LuaNormalSchedulerV2P.lua
luajit gen_scheduler.tl
mv ./out/gen_scheduler.tl ./out/LuaNormalSchedulerV2P.lua
cp ./out/LuaNormalSchedulerV2P.lua $file
sed -i "1i\\$info_str" $file

export ACC_TIME=1
export NORMAL=0
export STEP=1
file=$VERILUA_HOME/src/lua/verilua/scheduler/LuaStepSchedulerV2P.lua
luajit gen_scheduler.tl
mv ./out/gen_scheduler.tl ./out/LuaStepSchedulerV2P.lua
cp ./out/LuaStepSchedulerV2P.lua $file
sed -i "1i\\$info_str" $file
