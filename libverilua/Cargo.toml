[package]
name = "libverilua"
version = "0.1.0"
edition = "2024"
build = "build.rs"

[dependencies]
env_logger = "0.11.6"
figlet-rs = "0.1.5"
goblin = "0.9.3"
hashbrown = "0.15.2"
lazy_static = "1.5.0"
libc = "0.2.169"
log = "0.4.26"
# mlua = {version = "0.10.3", features = ["luajit52", "vendored"]}
mlua = {version = "0.10.3", features = ["luajit52"]}
num_enum = "0.7.3"
once_cell = "1.20.3"
paste = "1.0.15"
static_init = "1.0.3"
mimalloc = "0.1.43"
rand = "0.9.0"
smallvec = "1.14.0"
tabled = "0.18.0"

[lib]
name = "verilua"
path = "src/lib.rs"
crate-type = ["cdylib"]

[features]
verilator = []
iverilog = []
iverilog_vpi_mod = []
vcs = []
wave_vpi = []
debug = []
acc_time = []
chunk_task = []
merge_cb = []

[profile.release]
panic = "abort"
codegen-units = 1
opt-level = 3
# lto = "fat"

[build-dependencies]
cc = {version = "1.2.15", features = ["parallel"]}
