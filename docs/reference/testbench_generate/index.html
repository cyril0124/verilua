<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/testbench_generate" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Testbench 自动生成流程 | Verilua</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cyril0124.github.io/verilua/img/verilua-social-card.png"><meta data-rh="true" name="twitter:image" content="https://cyril0124.github.io/verilua/img/verilua-social-card.png"><meta data-rh="true" property="og:url" content="https://cyril0124.github.io/verilua/docs/reference/testbench_generate"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Testbench 自动生成流程 | Verilua"><meta data-rh="true" name="description" content="Verilua 中，Testbench 是全自动生成的 testbenchgen 工具实现（安装 Verilua 的时候会编译生成 testbenchgen），其核心功能包括顶层模块的例化、时钟驱动、波形控制等。具体工作流程如下图所示："><meta data-rh="true" property="og:description" content="Verilua 中，Testbench 是全自动生成的 testbenchgen 工具实现（安装 Verilua 的时候会编译生成 testbenchgen），其核心功能包括顶层模块的例化、时钟驱动、波形控制等。具体工作流程如下图所示："><link data-rh="true" rel="icon" href="/verilua/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://cyril0124.github.io/verilua/docs/reference/testbench_generate"><link data-rh="true" rel="alternate" href="https://cyril0124.github.io/verilua/docs/reference/testbench_generate" hreflang="en"><link data-rh="true" rel="alternate" href="https://cyril0124.github.io/verilua/docs/reference/testbench_generate" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Testbench 自动生成流程","item":"https://cyril0124.github.io/verilua/docs/reference/testbench_generate"}]}</script><link rel="stylesheet" href="/verilua/assets/css/styles.b7591dbf.css">
<script src="/verilua/assets/js/runtime~main.dda7832b.js" defer="defer"></script>
<script src="/verilua/assets/js/main.7c2b9274.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/verilua/img/logo.svg"><link rel="preload" as="image" href="/verilua/assets/images/testbench_gen_flow-6ea129afee4137df41ec5487d7c745dc.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/verilua/"><div class="navbar__logo"><img src="/verilua/img/logo.svg" alt="Verilua Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/verilua/img/logo.svg" alt="Verilua Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Verilua</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/verilua/docs/">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/cyril0124/verilua" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/verilua/docs/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/verilua/docs/getting-started/install"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/getting-started/install"><span title="Install Verilua" class="linkLabel_WmDU">Install Verilua</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/getting-started/simple_hvl_example"><span title="一个简单的 HVL 示例" class="linkLabel_WmDU">一个简单的 HVL 示例</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/getting-started/simple_hse_example"><span title="一个简单的 HSE 示例" class="linkLabel_WmDU">一个简单的 HSE 示例</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/getting-started/simple_wal_example"><span title="一个简单的 WAL 示例" class="linkLabel_WmDU">一个简单的 WAL 示例</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/verilua/docs/how-to-guides/simple_ut_env"><span title="How-to Guides" class="categoryLinkLabel_W154">How-to Guides</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/how-to-guides/simple_ut_env"><span title="搭建一个简单的 UT 环境" class="linkLabel_WmDU">搭建一个简单的 UT 环境</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/how-to-guides/write_reusable_component"><span title="编写可复用的验证组件" class="linkLabel_WmDU">编写可复用的验证组件</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/verilua/docs/reference/multi_task"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/multi_task"><span title="多任务系统" class="linkLabel_WmDU">多任务系统</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/data_structure"><span title="数据结构" class="linkLabel_WmDU">数据结构</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/bitvec"><span title="BitVec" class="linkLabel_WmDU">BitVec</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/str_bits_utils"><span title="StrBitsUtils" class="linkLabel_WmDU">StrBitsUtils</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/slcp"><span title="String Literal Constructor Pattern (SLCP)" class="linkLabel_WmDU">String Literal Constructor Pattern (SLCP)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/simulator_control"><span title="仿真器控制" class="linkLabel_WmDU">仿真器控制</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/verilua/docs/reference/testbench_generate"><span title="Testbench 自动生成流程" class="linkLabel_WmDU">Testbench 自动生成流程</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/xmake_params"><span title="xmake 的配置参数" class="linkLabel_WmDU">xmake 的配置参数</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/global_configuration"><span title="全局配置信息" class="linkLabel_WmDU">全局配置信息</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/verilua/docs/reference/special_env_variables"><span title="特殊环境变量" class="linkLabel_WmDU">特殊环境变量</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/verilua/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Testbench 自动生成流程</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Testbench 自动生成流程</h1></header>
<p>Verilua 中，Testbench 是全自动生成的 <code>testbench_gen</code> 工具实现（安装 Verilua 的时候会编译生成 <code>testbench_gen</code>），其核心功能包括顶层模块的例化、时钟驱动、波形控制等。具体工作流程如下图所示：</p>
<figure><img src="/verilua/assets/images/testbench_gen_flow-6ea129afee4137df41ec5487d7c745dc.png" alt="Testbench generate workflow" style="width:100%"><figcaption>Testbench generate workflow</figcaption></figure>
<p><code>testbench_gen</code> 底层使用的是 <a href="https://github.com/MikePopoloski/slang" target="_blank" rel="noopener noreferrer" class="">slang</a> 进行 RTL 代码的解析，下面是 <code>testbench_gen</code> 的命令行参数（高亮的为常用的选项）：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Terminal</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OVERVIEW: testbench_gen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">verilua@v2.0.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USAGE: testbench_gen </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> files</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OPTIONS:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --tt,--tbtop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">top module name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                      testbench </span><span class="token function" style="color:#d73a49">top</span><span class="token plain"> module name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dn,--dut-name </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">dut instance name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                 testbench dut inst name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --od,--out-dir </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">directory</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                          output directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cs,--clock-signal </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">signal name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                   clock signal name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --rs,--reset-signal </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">signal name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                   reset signal name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cc,--custom-code </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                           input custom code </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">, will be inserted </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the bottom of the testbench module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --ccs,--custom-code-str </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                    input custom code </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">, will be inserted </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the bottom of the testbench module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cco,--custom-code-outer </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                    input custom code </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">, will be inserted </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the </span><span class="token function" style="color:#d73a49">top</span><span class="token plain"> of the testbench module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --ccso,--custom-code-str-outer </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">             input custom code </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">, will be inserted </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the </span><span class="token function" style="color:#d73a49">top</span><span class="token plain"> of the testbench module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --lm,--lua-meta-file </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                         output lua meta file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">type annotation </span><span class="token function" style="color:#d73a49">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --fl,--filelist </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file/filelist</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                     input </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> or filelist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p,--period </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">period value</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                          clock period</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --vb,--verbose                                      verbose output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --co,--check-output                                 check output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dr,--dryrun                                       </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> not generate testbench</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -r,--regen                                          force regeneration of testbench</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -h,--help                                           Display available options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--std</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1800</span><span class="token plain">-2017 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1800</span><span class="token plain">-2023 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> latest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">              The version of the SystemVerilog language to use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -I,--include-directory,+incdir </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">dir-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  Additional include search paths</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--isystem</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">dir-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">                       Additional system include search paths</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -D,--define-macro,+define </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">macro</span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">value</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">           Define </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">macro</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> to </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">value</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">or </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">value</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ommitted</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> all </span><span class="token builtin class-name">source</span><span class="token plain"> files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -U,--undefine-macro </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">macro</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                         Undefine macro name at the start of all </span><span class="token builtin class-name">source</span><span class="token plain"> files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-include-depth </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">depth</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                         Maximum depth of nested include files allowed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --libraries-inherit-macros                          If true, library files will inherit macro definitions from the primary </span><span class="token builtin class-name">source</span><span class="token plain"> files. --single-unit must also be passed when this option is used.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --enable-legacy-protect                             If true, the preprocessor will support legacy protected envelope directives, </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> compatibility with old Verilog tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --translate-off-format </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">common</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">start</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">end</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">       Set a </span><span class="token function" style="color:#d73a49">format</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> comment directives that mark a region of disabled </span><span class="token builtin class-name">source</span><span class="token plain"> text. The </span><span class="token function" style="color:#d73a49">format</span><span class="token plain"> is a common keyword, a start word, and an end word, each separated by commas. For example, </span><span class="token string" style="color:#e3116c">&#x27;pragma,translate_off,translate_on&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cmd-ignore </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vendor_cmd</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">N</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                       Define rule to ignore vendor </span><span class="token builtin class-name">command</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vendor_cmd</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> with its following </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">N</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> parameters.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                      A </span><span class="token builtin class-name">command</span><span class="token plain"> of the form +xyz will also match any vendor </span><span class="token builtin class-name">command</span><span class="token plain"> of the form +xyz+abc,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                      as +abc is the </span><span class="token builtin class-name">command</span><span class="token string" style="color:#e3116c">&#x27;s argument, and doesn&#x27;</span><span class="token plain">t need to be matched.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cmd-rename </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vendor_cmd</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">slang_cmd</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">               Define rule to </span><span class="token function" style="color:#d73a49">rename</span><span class="token plain"> vendor </span><span class="token builtin class-name">command</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vendor_cmd</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> into existing </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">slang_cmd</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --ignore-directive </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">directive</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                      Ignore preprocessor directive and all its arguments </span><span class="token keyword" style="color:#00009f">until</span><span class="token plain"> EOL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-parse-depth </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">depth</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                           Maximum depth of nested language constructs allowed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-lexer-errors </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">count</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                          Maximum number of errors that can occur during lexing before the rest of the </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> is skipped</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -j,--threads </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">count</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                                The number of threads to use to parallelize parsing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-C</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">                             One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> files containing independent compilation unit listings. The files accept a subset of options that pertain specifically to parsing that unit and optionally including it </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> a library.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-hierarchy-depth </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">depth</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                       Maximum depth of the design hierarchy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-generate-steps </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">steps</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                        Maximum number of steps that can occur during generate block evaluation before giving up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-constexpr-depth </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">depth</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                       Maximum depth of a constant evaluation call stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-constexpr-steps </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">steps</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                       Maximum number of steps that can occur during constant evaluation before giving up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --constexpr-backtrace-limit </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">limit</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                 Maximum number of frames to show when printing a constant evaluation backtrace</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> the rest will be abbreviated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-instance-array </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">limit</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                        Maximum number of instances allowed </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> a single instance array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-udp-coverage-notes </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">limit</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                    Maximum number of UDP coverage notes that will be generated </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a single warning about missing edge transitions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--compat</span><span class="token plain"> vcs                                        Attempt to increase compatibility with the specified tool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -T,--timing min</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">typ</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">max                             Select </span><span class="token function" style="color:#d73a49">which</span><span class="token plain"> value to consider </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> min:typ:max expressions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--timescale</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">base</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">precision</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                      Default </span><span class="token function" style="color:#d73a49">time</span><span class="token plain"> scale to use </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> design elements that don</span><span class="token string" style="color:#e3116c">&#x27;t specify one explicitly</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --allow-use-before-declare                          Don&#x27;</span><span class="token plain">t issue an error </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> use of names before their declarations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --ignore-unknown-modules                            Don</span><span class="token string" style="color:#e3116c">&#x27;t issue an error for instantiations of unknown modules, interface, and programs</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --relax-enum-conversions                            Allow all integral types to convert implicitly to enum types</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --relax-string-conversions                          Allow string types to convert implicitly to integral types</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --allow-hierarchical-const                          Allow hierarchical references in constant expressions</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --allow-toplevel-iface-ports                        Allow top-level modules to have interface ports</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --allow-recursive-implicit-call                     Allow implicit call expressions to be recursive function calls</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --allow-bare-value-param-assigment                  Allow module parameter assignments to elide the parentheses</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --allow-self-determined-stream-concat               Allow self-determined streaming concatenation expressions</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --allow-merging-ansi-ports                          Allow merging ANSI port declarations with nets and variables declared in the instance body</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  --lint-only                                         Only perform linting of code, don&#x27;</span><span class="token plain">t try to elaborate a full hierarchy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --disable-instance-caching                          Disable the use of instance caching, </span><span class="token function" style="color:#d73a49">which</span><span class="token plain"> normally allows skipping duplicate instance bodies to save </span><span class="token function" style="color:#d73a49">time</span><span class="token plain"> when elaborating</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --disallow-refs-to-unknown-instances                When using --ignore-unknown-modules, explicitly disallow references to ignored module instances by issuing an error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--top</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                                        One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> top-level modules to instantiate </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">instead of figuring it out automatically</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-G</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">value</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                                   One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> parameter overrides to apply when instantiating top-level modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-L</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">library</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                                        A list of library names that controls the priority order </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> module lookup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--defaultLibName</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                             Sets the name of the default library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-W</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">warning</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                                        Control the specified warning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --color-diagnostics                                 Always print diagnostics </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> color. If this option is unset, colors will be enabled </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> a color-capable terminal is detected.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-column                                       Show </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> numbers </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> diagnostic output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-location                                     Show location information </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> diagnostic output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-source                                       Show </span><span class="token builtin class-name">source</span><span class="token plain"> line or caret info </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> diagnostic output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-option                                       Show option names </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> diagnostic output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-include-stack                                Show include stacks </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> diagnostic output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-macro-expansion                              Show macro expansion backtraces</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-abs-paths                                    Display absolute paths to files </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> diagnostic output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-hierarchy always</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">never</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">auto                  Show hierarchy locations </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> diagnostic output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --diag-json </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                                  Dump all diagnostics </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> JSON </span><span class="token function" style="color:#d73a49">format</span><span class="token plain"> to the specified file, or </span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> stdout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --error-limit </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">limit</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                               Limit on the number of errors that will be printed. Setting this to zero will disable the limit.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --suppress-warnings </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">            One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> paths </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">which</span><span class="token plain"> to suppress warnings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --suppress-macro-warnings </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">      One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> paths </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">which</span><span class="token plain"> to suppress warnings that originate </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> macro expansions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --single-unit                                       Treat all input files as a single compilation unit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v,--libfile </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">                   One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> library files, </span><span class="token function" style="color:#d73a49">which</span><span class="token plain"> are separate compilation </span><span class="token function" style="color:#d73a49">units</span><span class="token plain"> where modules are not automatically instantiated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--libmap</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">                       One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> library map files to parse </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> library name mappings and </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> lists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -y,--libdir </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">dir-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">                     Library search paths, </span><span class="token function" style="color:#d73a49">which</span><span class="token plain"> will be searched </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> missing modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -Y,--libext,+libext </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ext</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                           Additional library </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> extensions to search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --exclude-ext </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ext</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                                 Exclude provided </span><span class="token builtin class-name">source</span><span class="token plain"> files with these extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">                             One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> </span><span class="token builtin class-name">command</span><span class="token plain"> files containing additional program options. Paths </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> are considered relative to the current directory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-F</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">file-pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">                             One or </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> </span><span class="token builtin class-name">command</span><span class="token plain"> files containing additional program options. Paths </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> are considered relative to the </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> itself.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dfa-unique-priority                               Respect the </span><span class="token string" style="color:#e3116c">&#x27;unique&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:#e3116c">&#x27;priority&#x27;</span><span class="token plain"> keywords when analyzing data flow through </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> statements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dfa-four-state                                    Require that </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> items cover X and Z bits to assume full coverage </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data flow analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --allow-multi-driven-locals                         Allow subroutine </span><span class="token builtin class-name">local</span><span class="token plain"> variables to be driven from multiple always_comb/_ff blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --allow-dup-initial-drivers                         Allow signals driven </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> an always_comb or always_ff block to also be driven by initial blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-case-analysis-steps </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">steps</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                   Maximum number of steps that can occur during </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> analysis before giving up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-loop-analysis-steps </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">steps</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">                   Maximum number of steps that can occur during loop analysis before giving up</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="多时钟配置">多时钟配置<a href="#多时钟配置" class="hash-link" aria-label="Direct link to 多时钟配置" title="Direct link to 多时钟配置" translate="no">​</a></h2>
<p>当设计包含多个时钟信号时，<code>testbench_gen</code> 提供了灵活的配置选项来处理不同的时钟场景：</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="时钟信号识别规则">时钟信号识别规则<a href="#时钟信号识别规则" class="hash-link" aria-label="Direct link to 时钟信号识别规则" title="Direct link to 时钟信号识别规则" translate="no">​</a></h3>
<p><code>testbench_gen</code> 会按照以下优先级识别主时钟信号：</p>
<ol>
<li class=""><strong>用户指定的时钟信号</strong>：通过 <code>--clock-signal</code> 参数明确指定的时钟信号名称</li>
<li class=""><strong>默认时钟信号名称</strong>：按优先级自动识别以下信号名称：<!-- -->
<ul>
<li class=""><code>clock</code></li>
<li class=""><code>clock_i</code></li>
<li class=""><code>clk</code></li>
<li class=""><code>clk_i</code></li>
<li class=""><code>i_clk</code></li>
</ul>
</li>
</ol>
<p>如果设计中存在多个匹配的时钟信号，<code>testbench_gen</code> 会选择优先级最高的信号作为主时钟。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="禁用内部时钟生成">禁用内部时钟生成<a href="#禁用内部时钟生成" class="hash-link" aria-label="Direct link to 禁用内部时钟生成" title="Direct link to 禁用内部时钟生成" translate="no">​</a></h3>
<p>对于多时钟设计，通常需要禁用 <code>testbench_gen</code> 的内部时钟自动生成功能，然后在用户代码中手动管理所有时钟信号。</p>
<p>在 xmake.lua 中配置：</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 禁用内部时钟生成</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">set_values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cfg.no_internal_clock&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="多时钟使用示例">多时钟使用示例<a href="#多时钟使用示例" class="hash-link" aria-label="Direct link to 多时钟使用示例" title="Direct link to 多时钟使用示例" translate="no">​</a></h3>
<p>假设设计有以下时钟信号：</p>
<ul>
<li class=""><code>sys_clk</code>：系统主时钟</li>
<li class=""><code>uart_clk</code>：UART 时钟</li>
<li class=""><code>mem_clk</code>：内存时钟</li>
</ul>
<p>配置方法：</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 指定主时钟信号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">add_values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cfg.tb_gen_flags&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--clock-signal&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sys_clk&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 禁用内部时钟生成</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">set_values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cfg.no_internal_clock&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>然后在测试代码中手动生成所有时钟：</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> sys_clk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dut</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sys_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">chdl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> uart_clk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dut</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uart_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">chdl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> mem_clk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dut</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mem_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">chdl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fork</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">-- 系统时钟 100MHz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sys_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">await_time_ns</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- 5ns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              </span><span class="token comment" style="color:#999988;font-style:italic">-- Note: this example uses `await_time_ns()` (nanoseconds). </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              </span><span class="token comment" style="color:#999988;font-style:italic">-- If you need higher precision (ps/fs) use `await_time_ps()`/`await_time_fs()` etc.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sys_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">await_time_ns</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">-- UART 时钟 9.6MHz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uart_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">await_time_ns</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">52</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- 52ns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uart_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">await_time_ns</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">52</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">-- 内存时钟 200MHz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mem_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">await_time_ns</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2.5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- 2.5ns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mem_clk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">await_time_ns</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2.5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="时钟相关参数说明">时钟相关参数说明<a href="#时钟相关参数说明" class="hash-link" aria-label="Direct link to 时钟相关参数说明" title="Direct link to 时钟相关参数说明" translate="no">​</a></h3>
<ul>
<li class=""><code>--clock-signal &lt;signal_name&gt;</code>：指定主时钟信号名称</li>
<li class=""><code>-p,--period &lt;period_value&gt;</code>：设置主时钟周期（仅在使用内部时钟时有效）</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="内部时钟自动生成">内部时钟自动生成<a href="#内部时钟自动生成" class="hash-link" aria-label="Direct link to 内部时钟自动生成" title="Direct link to 内部时钟自动生成" translate="no">​</a></h2>
<p>默认情况下，<code>testbench_gen</code> 会自动在 RTL 侧生成时钟信号。这是 Verilua 的一项性能优化设计，将时钟生成放在 RTL 层面可以避免使用 Lua 任务来驱动时钟信号，从而减少任务切换的开销，提高仿真性能。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="性能优势">性能优势<a href="#性能优势" class="hash-link" aria-label="Direct link to 性能优势" title="Direct link to 性能优势" translate="no">​</a></h3>
<p><strong>RTL 侧时钟生成</strong>（默认）：</p>
<ul>
<li class="">时钟信号由 SystemVerilog 的 <code>always</code> 块直接驱动</li>
<li class="">无需 Lua 任务参与时钟切换</li>
<li class="">最小的仿真开销，最佳性能表现</li>
</ul>
<p><strong>Lua 侧时钟控制</strong>（禁用内部时钟）：</p>
<ul>
<li class="">需要创建专门的 Lua 任务来管理时钟信号</li>
<li class="">每个时钟边沿都需要 Lua-RTL 交互</li>
<li class="">增加任务切换开销，影响仿真速度, 但更加灵活</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="时钟周期配置">时钟周期配置<a href="#时钟周期配置" class="hash-link" aria-label="Direct link to 时钟周期配置" title="Direct link to 时钟周期配置" translate="no">​</a></h3>
<p>可以通过 tb_gen_flags 传递(xmake.lua)配置时钟周期：</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">add_values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cfg.tb_gen_flags&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--period&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;15&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="设计考虑与权衡">设计考虑与权衡<a href="#设计考虑与权衡" class="hash-link" aria-label="Direct link to 设计考虑与权衡" title="Direct link to 设计考虑与权衡" translate="no">​</a></h3>
<p>内部时钟自动生成在以下方面具有特点：</p>
<ul>
<li class=""><strong>单时钟优化</strong>：专为单时钟设计优化，提供最佳性能</li>
<li class=""><strong>固定波形</strong>：生成标准的 50% 占空比方波，满足大多数应用需求</li>
<li class=""><strong>高效稳定</strong>：RTL 层面的时钟生成更加稳定可靠</li>
<li class=""><strong>简化设计</strong>：减少用户代码复杂度，专注于测试逻辑</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="选择建议">选择建议<a href="#选择建议" class="hash-link" aria-label="Direct link to 选择建议" title="Direct link to 选择建议" translate="no">​</a></h3>
<p>根据具体需求选择合适的时钟方案：</p>
<p><strong>推荐使用内部时钟的场景</strong>：</p>
<ul>
<li class="">单时钟设计，追求最佳仿真性能</li>
<li class="">标准时钟波形即可满足需求</li>
<li class="">对仿真速度有较高要求</li>
<li class="">简单到中等复杂度的测试场景</li>
</ul>
<p><strong>需要禁用内部时钟的场景</strong>：</p>
<ul>
<li class="">多时钟设计，必须分别控制多个时钟信号</li>
<li class="">需要非标准时钟波形（可变占空比、复杂调制等）</li>
<li class="">时钟门控或动态时钟控制需求</li>
<li class="">异步时钟域间的精确时序控制</li>
<li class="">需要在运行时调整时钟参数</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="其他">其他<a href="#其他" class="hash-link" aria-label="Direct link to 其他" title="Direct link to 其他" translate="no">​</a></h2>
<p>Testbench 只在 HVL 场景下才需要自动生成，可以在 xmake.lua 文件中通过 <code>add_values(&quot;cfg.tb_gen_flags&quot;, ...)</code> 来添加其他的 flags 参数，例如：</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">add_values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cfg.tb_gen_flags&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--ignore-unknown-modules&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--verbose&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>默认情况下，<code>testbench_gen</code> 会生成两个文件，一个是 <code>tb_top.sv</code>，另一个是 <code>other.sv</code>，其中 <code>tb_top.sv</code> 是 Testbench 文件，<code>other.sv</code> 是留给用户自定义的文件。用户可以在 <code>others.sv</code> 中自行添加其他的内容，每次重新生成 Testbench 的时候如果 <code>others.sv</code> 存在，就不会重新生成或者覆盖，因此用户可以安全地在其中添加用户自定义的内容。 部分内容如下（假设 DUT 为 <code>Design</code>）：</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>我们之前在<a class="" href="/verilua/docs/getting-started/simple_hvl_example#about-dut">这里</a>简单介绍过相关的内容。</p></div></div>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">tb_top.sv</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// user custom code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//    use `--custom-code-outer/-cco &lt;file&gt;` to pass in the custom code file.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//       |_ e.g. `testbench_gen [...] --custom-code-outer path/to/file`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//    use `--custom-code-str-outer/-ccso &lt;string&gt;` to pass in the custom code string.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//       |_ e.g. `testbench_gen [...] --custom-code-str-outer &quot;`define a 1&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> tb_top</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">reg</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">reg</span><span class="token plain"> reset</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">initial</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clock </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token important">always</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">#10</span><span class="token plain"> clock </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">clock</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// reg/wire declaration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">reg</span><span class="token plain">                  inc          </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Input</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">reg</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">             test         </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Input</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">wire</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">            value        </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Output</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//  DUT module instantiate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Design u_Design </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clock   </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clock  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// direction: In         dataType: logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reset   </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// direction: In         dataType: logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inc     </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inc    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// direction: In         dataType: logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test   </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// direction: In         dataType: reg[7:0]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value   </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// direction: Out        dataType: logic[7:0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// u_Design</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// other user code...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Others </span><span class="token function" style="color:#d73a49">u_others</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">clock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">reset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// user custom code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//    use `--custom-code/-cc &lt;file&gt;` to pass in the custom code file.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//       |_ e.g. `testbench_gen [...] --custom-code path/to/file`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//    use `--custom-code-str/-ccs &lt;string&gt;` to pass in the custom code string.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//       |_ e.g. `testbench_gen [...] --custom-code-str &quot;reg a; initial a = 1;&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endmodule</span><br></span></code></pre></div></div>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">other.sv</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> Others </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">input</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">wire</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">input</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">wire</span><span class="token plain"> reset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// other user code...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// -----------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endmodule</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/cyril0124/verilua/tree/master/../docs/reference/testbench_generate.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/verilua/docs/reference/simulator_control"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">仿真器控制</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/verilua/docs/reference/xmake_params"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">xmake 的配置参数</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#多时钟配置" class="table-of-contents__link toc-highlight">多时钟配置</a><ul><li><a href="#时钟信号识别规则" class="table-of-contents__link toc-highlight">时钟信号识别规则</a></li><li><a href="#禁用内部时钟生成" class="table-of-contents__link toc-highlight">禁用内部时钟生成</a></li><li><a href="#多时钟使用示例" class="table-of-contents__link toc-highlight">多时钟使用示例</a></li><li><a href="#时钟相关参数说明" class="table-of-contents__link toc-highlight">时钟相关参数说明</a></li></ul></li><li><a href="#内部时钟自动生成" class="table-of-contents__link toc-highlight">内部时钟自动生成</a><ul><li><a href="#性能优势" class="table-of-contents__link toc-highlight">性能优势</a></li><li><a href="#时钟周期配置" class="table-of-contents__link toc-highlight">时钟周期配置</a></li><li><a href="#设计考虑与权衡" class="table-of-contents__link toc-highlight">设计考虑与权衡</a></li><li><a href="#选择建议" class="table-of-contents__link toc-highlight">选择建议</a></li></ul></li><li><a href="#其他" class="table-of-contents__link toc-highlight">其他</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 - 2026 Chuyu Zheng. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>