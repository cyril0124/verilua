"use strict";(globalThis.webpackChunkverilua_docs=globalThis.webpackChunkverilua_docs||[]).push([[947],{244:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/clock_edge-112f49a97933c1857b6100fe86675e75.png"},2091:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/scheduler_workflow-ae314925fa3ab3dcd2663851bde173e4.png"},5817:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"reference/multi_task","title":"\u591a\u4efb\u52a1\u7cfb\u7edf","description":"Verilua \u5b9e\u73b0\u4e86\u4e00\u4e2a\u57fa\u4e8e\u4e8b\u4ef6\u8f6e\u8be2\u8c03\u5ea6\u7684\u8c03\u5ea6\u5668\uff08Scheduler\uff09\uff0c\u7528\u4e8e\u7ba1\u7406\u548c\u8bb0\u5f55\u7528\u6237\u6ce8\u518c\u7684\u4efb\u52a1\uff0cVerilua \u901a\u8fc7\u8fd9\u79cd\u8c03\u5ea6\u7cfb\u7edf\u6765\u5b9e\u73b0\u591a\u4efb\u52a1\u7684\u8c03\u5ea6\u3002","source":"@site/../docs/reference/multi_task.mdx","sourceDirName":"reference","slug":"/reference/multi_task","permalink":"/verilua/docs/reference/multi_task","draft":false,"unlisted":false,"editUrl":"https://github.com/cyril0124/verilua/tree/master/../docs/reference/multi_task.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u7f16\u5199\u53ef\u590d\u7528\u7684\u9a8c\u8bc1\u7ec4\u4ef6","permalink":"/verilua/docs/how-to-guides/write_reusable_component"},"next":{"title":"\u6570\u636e\u7ed3\u6784","permalink":"/verilua/docs/reference/data_structure"}}');var d=s(4848),l=s(8453);const c={},r="\u591a\u4efb\u52a1\u7cfb\u7edf",t={},a=[{value:"\u521b\u5efa\u4efb\u52a1",id:"\u521b\u5efa\u4efb\u52a1",level:2},{value:"\u7b49\u5f85\u4efb\u52a1\u6267\u884c\u5b8c\u6210",id:"\u7b49\u5f85\u4efb\u52a1\u6267\u884c\u5b8c\u6210",level:2},{value:"\u6ce8\u518c\u4efb\u52a1\u56de\u8c03",id:"\u6ce8\u518c\u4efb\u52a1\u56de\u8c03",level:2},{value:"\u4efb\u52a1\u540c\u6b65",id:"\u4efb\u52a1\u540c\u6b65",level:2},{value:"Scheduler \u5e95\u5c42 API \u7684\u4f7f\u7528",id:"scheduler-\u5e95\u5c42-api-\u7684\u4f7f\u7528",level:2},{value:"\u6ce8\u518c\u4efb\u52a1",id:"\u6ce8\u518c\u4efb\u52a1",level:3},{value:"\u5217\u51fa\u6240\u6709\u4efb\u52a1",id:"\u5217\u51fa\u6240\u6709\u4efb\u52a1",level:3},{value:"\u68c0\u67e5\u4efb\u52a1\u662f\u5426\u5b58\u5728",id:"\u68c0\u67e5\u4efb\u52a1\u662f\u5426\u5b58\u5728",level:3},{value:"Scheduler \u4efb\u52a1\u6027\u80fd\u7edf\u8ba1",id:"scheduler-\u4efb\u52a1\u6027\u80fd\u7edf\u8ba1",level:2},{value:"\u5176\u4ed6 Scheduler API",id:"\u5176\u4ed6-scheduler-api",level:2},{value:"Start Task \u548c Finish Task",id:"start-task-\u548c-finish-task",level:2}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"\u591a\u4efb\u52a1\u7cfb\u7edf",children:"\u591a\u4efb\u52a1\u7cfb\u7edf"})}),"\n",(0,d.jsx)(n.p,{children:"Verilua \u5b9e\u73b0\u4e86\u4e00\u4e2a\u57fa\u4e8e\u4e8b\u4ef6\u8f6e\u8be2\u8c03\u5ea6\u7684\u8c03\u5ea6\u5668\uff08Scheduler\uff09\uff0c\u7528\u4e8e\u7ba1\u7406\u548c\u8bb0\u5f55\u7528\u6237\u6ce8\u518c\u7684\u4efb\u52a1\uff0cVerilua \u901a\u8fc7\u8fd9\u79cd\u8c03\u5ea6\u7cfb\u7edf\u6765\u5b9e\u73b0\u591a\u4efb\u52a1\u7684\u8c03\u5ea6\u3002\n\u5728\u5177\u4f53\u5b9e\u73b0\u4e0a\uff0c\u6bcf\u4e2a\u4efb\u52a1\u5728\u6267\u884c\u5230\u7279\u5b9a\u4e8b\u4ef6\u65f6\uff0c\u4f1a\u901a\u8fc7 Scheduler \u6ce8\u518c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff08callback\uff09\uff0c\u5e76\u4e3b\u52a8\u8ba9\u51fa\u63a7\u5236\u6743\uff0c\u76f4\u5230\u56de\u8c03\u51fd\u6570\u88ab\u89e6\u53d1\u540e\u7531 Scheduler \u5524\u9192\u3002\u8fd9\u79cd\u534f\u4f5c\u5f0f\u591a\u4efb\u52a1\u6a21\u578b\u4f9d\u8d56\u4e8e\u4efb\u52a1\u7684\u4e3b\u52a8\u63a7\u5236\u6743\u8ba9\u51fa\uff0c\u4efb\u52a1\u5728\u8ba9\u51fa\u63a7\u5236\u6743\u65f6\u53ef\u6307\u5b9a\u56de\u8c03\u7c7b\u578b\uff0c\u4f8b\u5982\u4e0a\u5347\u6cbf\uff08posedge\uff09\u6216\u4e0b\u964d\u6cbf\uff08negedge\uff09\u7b49\u3002Scheduler \u91c7\u7528 Round Robin \u4ef2\u88c1\u7b56\u7565\uff0c\u786e\u4fdd\u6240\u6709\u6ce8\u518c\u4efb\u52a1\u80fd\u591f\u516c\u5e73\u5730\u83b7\u5f97\u6267\u884c\u673a\u4f1a\uff0c\u4ece\u800c\u5728\u5355\u7ebf\u7a0b\u73af\u5883\u4e2d\u5b9e\u73b0\u9ad8\u6548\u7684\u4efb\u52a1\u8c03\u5ea6\u4e0e\u5e76\u53d1\u6267\u884c\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4e0b\u56fe\u662f Verilua \u7684\u4efb\u52a1\u8c03\u5ea6\u6d41\u7a0b\uff0c\u53ef\u4ee5\u5206\u4e3a\u4e94\u4e2a\u6b65\u9aa4\uff1a"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"Scheduler \u904d\u5386\u6240\u6709\u5df2\u6ce8\u518c\u7684\u4efb\u52a1\uff0c\u6bcf\u4e2a\u4efb\u52a1\u901a\u8fc7\u552f\u4e00\u7684 Task ID \u8fdb\u884c\u6807\u8bc6\uff1b"}),"\n",(0,d.jsx)(n.li,{children:"\u8fdb\u5165\u5230\u5176\u4e2d\u4e00\u4e2a\u4efb\u52a1\u4e2d\u6267\u884c\uff0c\u6267\u884c\u7279\u5b9a\u4f4d\u7f6e\u8ba9\u51fa\u4efb\u52a1\u63a7\u5236\u6743\u5e76\u63d0\u4f9b\u56de\u8c03\u7c7b\u578b\u4e0e Task ID\u8fdb\u884c\u56de\u8c03\u6ce8\u518c\uff1b"}),"\n",(0,d.jsx)(n.li,{children:"Scheduler \u901a\u8fc7 VPI-ML\uff08Verilua \u5b9a\u4e49\u7684\u4e00\u4e2a\u4e2d\u95f4\u5c42\uff09\u4e0e\u4eff\u771f\u5668\u4ea4\u4e92\uff0c\u63a7\u5236\u4eff\u771f\u5668\u6ce8\u518c\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\uff1b"}),"\n",(0,d.jsx)(n.li,{children:"\u56de\u8c03\u51fd\u6570\u6ce8\u518c\u540e\uff0c\u4eff\u771f\u5668\u7ee7\u7eed\u8fd0\u884c\uff0c\u76f4\u5230\u56de\u8c03\u89e6\u53d1\uff1b"}),"\n",(0,d.jsx)(n.li,{children:"\u4eff\u771f\u5668\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u89e6\u53d1\u56de\u8c03\u540e\uff0c\u901a\u8fc7 Task ID \u5b9a\u4f4d\u5bf9\u5e94\u4efb\u52a1\uff0c\u5e76\u6062\u590d\u4efb\u52a1\u6267\u884c\u3002"}),"\n"]}),"\n",(0,d.jsxs)("figure",{children:[(0,d.jsx)("img",{src:s(2091).A,alt:"Scheduler workflow",style:{width:"70%"}}),(0,d.jsx)("figcaption",{children:"Scheduler workflow"})]}),"\n",(0,d.jsx)(n.p,{children:"\u8fd9\u4e00\u8fc7\u7a0b\u5b9e\u73b0\u4e86\u4efb\u52a1\u7684\u8c03\u5ea6\uff0c\u4e14\u56de\u8c03\u6ce8\u518c\u662f\u5f02\u6b65\u7684\uff0c\u4efb\u52a1\u65e0\u9700\u7b49\u5f85\u56de\u8c03\u5b8c\u6210\u5373\u53ef\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u4efb\u52a1\u4e4b\u95f4\u4e0d\u5b58\u5728\u4f9d\u8d56\u8fd0\u884c\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u521b\u5efa\u4efb\u52a1",children:"\u521b\u5efa\u4efb\u52a1"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 Verilua \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",(0,d.jsx)(n.code,{children:"fork"})," \u6765\u521b\u5efa\u4efb\u52a1\uff0c\u5e76\u5c06\u5176\u6dfb\u52a0\u5230 Scheduler \u4e2d\uff0c\u540c\u65f6\u88ab\u521b\u5efa\u7684\u4efb\u52a1\u4f1a\u968f\u673a\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u4efb\u52a1 ID\u3002\u4f8b\u5982\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'fork { -- \u4e5f\u53ef\u4ee5\u4f7f\u7528 `verilua "appendTasks"`\uff0c\u4e0d\u8fc7\u76ee\u524d\u63a8\u8350\u4f7f\u7528 fork \u6765\u521b\u5efa\u4efb\u52a1\n    function ()\n        print("fork task 1")\n    end,\n\n    function ()\n        print("fork task 2")\n    end,\n    \n    -- Other tasks...\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"fork"})," \u6765\u521b\u5efa\u4efb\u52a1\u7684\u65f6\u5019\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4efb\u52a1\u7684\u540d\u79f0\uff0c\u4f8b\u5982\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'fork {\n    simple_task = function ()\n        print("fork task 1")\n    end,\n\n    ["another simple task"] = function ()\n        print("fork task 2")\n    end,\n\n    -- Other tasks...\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u4efb\u52a1\u540d\u79f0\uff0c\u90a3\u4e48 Verilua \u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u540d\u79f0\uff0c\u5177\u4f53\u683c\u5f0f\u4e3a: ",(0,d.jsx)(n.code,{children:"unnamed_task_<task_id>"}),"\u3002"]}),"\n",(0,d.jsx)(n.p,{children:"\u8fd9\u91cc\u7684\u6bcf\u4e00\u4e2a function \u5728 Verilua \u7684\u5e95\u5c42\u4e2d\u90fd\u88ab\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u4e2a\u7684 coroutine \u4ece\u800c\u5141\u8bb8 Verilua \u7684 Scheduler \u8fdb\u884c\u8c03\u5ea6\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u7b49\u5f85\u4efb\u52a1\u6267\u884c\u5b8c\u6210",children:"\u7b49\u5f85\u4efb\u52a1\u6267\u884c\u5b8c\u6210"}),"\n",(0,d.jsxs)(n.p,{children:["Verilua \u63d0\u4f9b\u4e86 ",(0,d.jsx)(n.code,{children:"join"})," \u51fd\u6570\u6765\u7b49\u5f85\u4e00\u4e2a\u6216\u591a\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6210\uff0c\u9700\u8981\u914d\u5408 ",(0,d.jsx)(n.code,{children:"jfork"})," \u51fd\u6570\u6765\u4f7f\u7528\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"jfork"})," \u51fd\u6570\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u4efb\u52a1\uff08\u6ce8\u610f\uff0c\u53ea\u80fd\u662f\u4e00\u4e2a\uff09\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u4e13\u95e8\u7ed9 ",(0,d.jsx)(n.code,{children:"join"})," \u4f7f\u7528\u7684 ",(0,d.jsx)(n.code,{children:"EventHandle"}),", \u4f7f\u7528\u65b9\u5f0f\u548c ",(0,d.jsx)(n.code,{children:"fork"})," \u7c7b\u4f3c\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'local ehdl = jfork {\n    function ()\n        print("jfork task 1")\n        -- ...\n    end\n}\n\nlocal ehdl = jfork {\n    task_name = function ()\n        print("jfork task 2")\n        -- ...\n    end\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"join"})," \u53ef\u4ee5\u7b49\u5f85\u4e00\u4e2a\u6216\u591a\u4e2a ",(0,d.jsx)(n.code,{children:"jfork"})," \u521b\u5efa\u7684 ",(0,d.jsx)(n.code,{children:"EventHandle"})," \u6240\u4ee3\u8868\u7684\u4efb\u52a1\u6267\u884c\u5b8c\u6210\uff0c\u4f8b\u5982\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:"local ehdl = jfork {\n    function ()\n        -- ...\n    end\n}\njoin(ehdl)\n\nlocal ehdl = jfork {\n    function ()\n        -- ...\n    end\n}\nlocal ehdl2 = jfork {\n    function ()\n        -- ...\n    end\n}\njoin({ ehdl, ehdl2 }) -- or join { ehdl, ehdl2 }\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u6ce8\u518c\u4efb\u52a1\u56de\u8c03",children:"\u6ce8\u518c\u4efb\u52a1\u56de\u8c03"}),"\n",(0,d.jsxs)(n.p,{children:["Verilua \u7684 task \u4e2d\u652f\u6301 ",(0,d.jsx)(n.code,{children:"posedge"}),"\u3001",(0,d.jsx)(n.code,{children:"negedge"}),"\u3001",(0,d.jsx)(n.code,{children:"edge"}),"\u3001",(0,d.jsx)(n.code,{children:"time"})," \u4eff\u771f\u884c\u4e3a\u63a7\u5236\u673a\u5236\uff0c\u80fd\u591f\u6ee1\u8db3\u5927\u90e8\u5206\u7684\u786c\u4ef6\u4eff\u771f\u4ea4\u4e92\u573a\u666f\u3002"]}),"\n",(0,d.jsxs)("figure",{children:[(0,d.jsx)("img",{src:s(244).A,alt:"Edge in the waveform",style:{width:"70%"}}),(0,d.jsx)("figcaption",{children:"Edge in the waveform"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u5176\u4e2d",(0,d.jsx)(n.code,{children:"posedge"}),"\u3001",(0,d.jsx)(n.code,{children:"negedge"}),"\u3001",(0,d.jsx)(n.code,{children:"edge"}),"\u53ea\u80fd\u4f5c\u7528\u5728\u4f4d\u5bbd\u4e3a 1 bit \u7684\u4fe1\u53f7\u4e0a\uff0c\u5e76\u4e14\u53ef\u4ee5\u7531 ",(0,d.jsx)(n.code,{children:"CallableHDL"}),"\u3001",(0,d.jsx)(n.code,{children:"ProxyTableHandle"})," \u7b49\u6570\u636e\u7ed3\u6784\u6765\u521b\u5efa\u3002\n\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'fork {\n    function ()\n        print("start task 1")\n\n        --\n        -- Use ProxyTableHandle(dut)\n        --\n        dut.clock:posedge()\n        print("posedge clock")\n\n        dut.clock:negedge()\n        print("negedge clock")\n\n        dut.clock:posedge(10)\n\n        dut.clock:negedge(5, function(c)\n            print("repeat negedge clock 5 times, now is " .. c)\n        end)\n\n        --\n        -- Use CallableHDL\n        --\n        local clock = dut.clock:chdl()\n        clock:posedge()\n        clock:negedge()\n    end\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"posedge"}),"/",(0,d.jsx)(n.code,{children:"negedge"}),"/",(0,d.jsx)(n.code,{children:"edge"})," \u7b49\u56de\u8c03\u6ce8\u518c\u51fd\u6570\u53ef\u4ee5\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u56de\u8c03\u7684\u7b49\u5f85\u6b21\u6570\uff0c\u7b2c\u4e8c\u4e2a\u662f\u56de\u8c03\u51fd\u6570\uff0c\u56de\u8c03\u51fd\u6570\u5728\u6bcf\u6b21\u89e6\u53d1\u4e8b\u4ef6\u7684\u65f6\u5019\u90fd\u4f1a\u88ab\u6267\u884c\uff0c\u56de\u8c03\u51fd\u6570\u8fd8\u4f1a\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u7b2c\u51e0\u6b21\u8fdb\u5165\u5230\u56de\u8c03\u51fd\u6570\u4e2d\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"time"})," \u8fd9\u4e00\u4e2a\u884c\u4e3a\u63a7\u5236\u673a\u5236\u4e0d\u9700\u8981\u4f7f\u7528\u5230\u5177\u4f53\u7684\u786c\u4ef6\u4fe1\u53f7\uff0c\u53ea\u9700\u8981\u5728\u4efb\u52a1\u4e2d\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"await_time(XXX)"})," \u5373\u53ef\uff0c\u5176\u4e2d ",(0,d.jsx)(n.code,{children:"XXX"})," \u662f\u6307\u5b9a\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e0e\u4eff\u771f\u5668\u7684\u65f6\u95f4\u5355\u4f4d\u76f8\u5f53\uff0c\u4f8b\u5982\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'fork {\n    function ()\n        print("start task 1")\n\n        await_time(10)\n        print("await time 10")\n\n        await_time(100)\n        print("await time 100")\n    end\n}\n'})}),"\n",(0,d.jsx)("div",{id:"task-synchronization"}),"\n",(0,d.jsx)(n.h2,{id:"\u4efb\u52a1\u540c\u6b65",children:"\u4efb\u52a1\u540c\u6b65"}),"\n",(0,d.jsxs)(n.p,{children:["\u591a\u4e2a\u4efb\u52a1\u4e4b\u95f4\u7684\u540c\u6b65\u53ef\u4ee5\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"EventHandle"})," \u6765\u521b\u5efa\u7279\u5b9a\u4e8b\u4ef6\u5b9e\u73b0\uff0c\u4e0d\u540c\u4e8e\u76f4\u63a5\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u8fdb\u884c\u540c\u6b65\uff0c",(0,d.jsx)(n.code,{children:"EventHandle"})," \u80fd\u591f\u66f4\u8fdb\u4e00\u6b65\u5728\u4e8b\u4ef6\u89e6\u53d1\u7684\u65f6\u5019\u5bf9\u6b63\u5728\u7b49\u5f85\u7684\u4efb\u52a1\u8fdb\u884c\u5524\u9192\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u53ca\u65f6\u7684\u4efb\u52a1\u540c\u6b65\u3002\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'-- Create a EvevntHandle with name "name of the event"\nlocal e = ("name of the event"):ehdl()\n\nfork {\n    task_1 = function ()\n        dut.clock:posedge(10)\n        print("send event")\n        e:send()\n    end,\n\n    task_2 = function ()\n        e:wait()\n        print("task_2 is awakened")\n    end,\n\n    task_3 = function ()\n        dut.clock:posedge(5)\n        e:wait()\n        print("task_3 is awakened")\n    end,\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0ctask_2 \u5c06\u4f1a\u5728\u7b2c\u5341\u4e2a\u4eff\u771f\u5468\u671f\u5230\u6765\u7684\u65f6\u5019\u88ab task_1 \u5524\u9192\uff0c\u5e76\u4e14\u5728\u5524\u9192\u540e\u4f1a\u6253\u5370\u51fa ",(0,d.jsx)(n.code,{children:"task_2 is awakened"}),"\uff0c\u800c task_3 \u5219\u5728\u7b2c\u4e94\u4e2a\u4eff\u771f\u5468\u671f\u5230\u6765\u7684\u65f6\u5019\u88ab task_1 \u5524\u9192\uff0c\u5e76\u4e14\u5728\u5524\u9192\u540e\u4f1a\u6253\u5370\u51fa ",(0,d.jsx)(n.code,{children:"task_3 is awakened"}),"\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:["\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cVerilua \u5141\u8bb8\u6709\u591a\u4e2a\u4efb\u52a1\u5728\u7b49\u5f85\u540c\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u4f46\u662f\u540c\u4e00\u65f6\u95f4\u70b9\u4e0d\u80fd\u6709\u591a\u4e2a\u4efb\u52a1\u540c\u65f6 send \u540c\u4e00\u4e2a ",(0,d.jsx)(n.code,{children:"EventHandle"}),"\uff0c\u5982\u679c\u591a\u4e2a\u4efb\u52a1\u540c\u65f6 send \u4e8b\u4ef6\uff0c\u5219\u4f1a\u5bfc\u81f4\u5f85\u5524\u9192\u7684\u4efb\u52a1\u88ab\u5524\u9192\u591a\u6b21\uff0c\u51fa\u73b0\u4e0d\u7b26\u5408\u9884\u671f\u7684\u884c\u4e3a\uff0c\u4f46\u662f Verilua \u5e95\u5c42\u5e76\u4e0d\u4f1a\u68c0\u67e5\u8fd9\u4e00\u79cd\u60c5\u51b5\uff0c\u56e0\u6b64\u7528\u6237\u9700\u8981\u81ea\u884c\u89c4\u907f\u3002"]}),"\n",(0,d.jsx)(n.h2,{id:"scheduler-\u5e95\u5c42-api-\u7684\u4f7f\u7528",children:"Scheduler \u5e95\u5c42 API \u7684\u4f7f\u7528"}),"\n",(0,d.jsx)(n.p,{children:"Verilua \u7684 Scheduler \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217 API \u6765\u67e5\u770b\u548c\u7ba1\u7406\u4efb\u52a1\uff0c\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u7528\u7684 API \u7684\u4ecb\u7ecd\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"\u6ce8\u518c\u4efb\u52a1",children:"\u6ce8\u518c\u4efb\u52a1"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"scheduler:append_task(task_id, namee, task_body, start_now)"})," \u7528\u4e8e\u6ce8\u518c\u4e00\u4e2a\u4efb\u52a1\u3002"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"task_id"})," \u662f\u4efb\u52a1\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u53ef\u4ee5\u8f93\u5165",(0,d.jsx)(n.code,{children:"nil"})," \u6765\u8ba9 Scheduler \u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u4efb\u52a1 ID\uff0c\u5426\u5219 Scheduler \u5219\u4f1a\u4f7f\u7528\u8fd9\u91cc\u6307\u5b9a\u7684 task_id \u4f5c\u4e3a\u4efb\u52a1\u7684\u552f\u4e00\u6807\u8bc6\uff1b"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"name"})," \u662f\u88ab\u6ce8\u518c\u4efb\u52a1\u7684\u540d\u79f0\uff1b"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"task_body"})," \u662f\u4efb\u52a1\u7684\u4ee3\u7801\u5757\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a ",(0,d.jsx)(n.code,{children:"function"}),"\uff1b"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"start_now"})," \u662f\u5426\u7acb\u5373\u542f\u52a8\u8be5\u4efb\u52a1\uff0c\u9ed8\u8ba4\u4e3a ",(0,d.jsx)(n.code,{children:"false"}),"\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a ",(0,d.jsx)(n.code,{children:"true"})," \u5219\u4f1a\u5728\u8c03\u7528 ",(0,d.jsx)(n.code,{children:"append_task"})," \u4e4b\u540e\u7acb\u5373\u542f\u52a8\u4efb\u52a1\uff08\u6267\u884c ",(0,d.jsx)(n.code,{children:"task_body"})," \u4ee3\u7801\u5757\uff09."]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"append_task"})," \u5728\u8c03\u7528\u4e4b\u540e\u4f1a\u521b\u5efa\u4e00\u4e2a\u4efb\u52a1\u5e76\u5c06\u5176\u6dfb\u52a0\u5230 Scheduler \u4e2d\uff0c\u540c\u65f6\u8fd4\u56de\u4e00\u4e2a\u4efb\u52a1 ID\u3002",(0,d.jsx)(n.code,{children:"scheduler"})," \u662f\u4e00\u4e2a\u5168\u5c40\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,d.jsx)(n.code,{children:'local scheduler = require "LuaScheduler"'})," \u6765\u5f15\u5165\u3002"]}),"\n",(0,d.jsx)(n.p,{children:"\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'local scheduler = require "LuaScheduler"\n\nlocal id = scheduler:append_task(nil, "task_1", function ()\n    print("task_1 is running")\n    dut.clock:posedge(10)\n    print("task_1 is finished")\nene)\n\nlocal id2 = scheduler:append_task(nil, "task_2", function ()\n    print("task_2 is running")\n    dut.clock:posedge(10)\n    print("task_2 is finished")\nend, true)\n\nlocal id3 = scheduler:append_task(123, "task_3", function ()\n    print("task_3 is running")\n    dut.clock:posedge(10)\n    print("task_3 is finished")\nend)\nassert(id3 == 123, "task_id should be 123")\n'})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.mdxAdmonitionTitle,{children:[(0,d.jsx)(n.code,{children:"scheduler:append_task(...)"})," \u8fd4\u56de\u7684 ",(0,d.jsx)(n.code,{children:"task_id"})," \u53ef\u4ee5\u7ed3\u5408 ",(0,d.jsx)(n.code,{children:"scheduler:check_task_exists(task_id)"})," \u6765\u68c0\u67e5\u4efb\u52a1\u662f\u5426\u5b58\u5728"]})}),"\n",(0,d.jsx)(n.h3,{id:"\u5217\u51fa\u6240\u6709\u4efb\u52a1",children:"\u5217\u51fa\u6240\u6709\u4efb\u52a1"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"scheduler:list_tasks()"})," \u7528\u4e8e\u5217\u51fa\u6240\u6709\u6ce8\u518c\u7684\u4efb\u52a1\uff0c\u5e76\u6253\u5370\u51fa\u5176\u4fe1\u606f\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u8f93\u51fa\u7684\u793a\u4f8b\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",metastring:'title="Terminal"',children:"[scheduler list tasks]:\n-----------------------------------------------------------\n[0] name: task_1    id: 1123     cnt:12\n[1] name: task_2    id: 2323     cnt:13\n[2] name: task_3    id: 3456     cnt:14\n-----------------------------------------------------------\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5176\u4e2d\u7684 ",(0,d.jsx)(n.code,{children:"id"})," \u4e3a\u4efb\u52a1\u7684\u552f\u4e00\u6807\u8bc6\uff0c",(0,d.jsx)(n.code,{children:"cnt"})," \u4e3a\u4efb\u52a1\u5728\u8c03\u5ea6\u5668\u4e2d\u7684\u6267\u884c\u6b21\u6570\u3002"]}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.mdxAdmonitionTitle,{children:["\u6bcf\u6b21\u4eff\u771f\u7ed3\u675f\u7684\u65f6\u5019\uff0cVerilua \u90fd\u4f1a\u81ea\u52a8\u8c03\u7528\u4e00\u6b21 ",(0,d.jsx)(n.code,{children:"scheduler:list_tasks()"})]})}),"\n",(0,d.jsx)(n.h3,{id:"\u68c0\u67e5\u4efb\u52a1\u662f\u5426\u5b58\u5728",children:"\u68c0\u67e5\u4efb\u52a1\u662f\u5426\u5b58\u5728"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"scheduler:check_task_exists(task_id)"})," \u7528\u4e8e\u68c0\u67e5\u4efb\u52a1\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4efb\u52a1\u4e0d\u5b58\u5728\u5219\u8fd4\u56de ",(0,d.jsx)(n.code,{children:"false"}),"\uff0c\u5426\u5219\u8fd4\u56de ",(0,d.jsx)(n.code,{children:"true"}),"\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'local scheduler = require "LuaScheduler"\n\nlocal id = scheduler:append_task(nil, "task_1", function ()\n    print("task_1 is running")\n    dut.clock:posedge(10)\n    print("task_1 is finished")\nend)\n\nlocal exists = scheduler:check_task_exists(id)\nassert(exists, "task_1 should exist")\n\n'})}),"\n",(0,d.jsx)(n.h2,{id:"scheduler-\u4efb\u52a1\u6027\u80fd\u7edf\u8ba1",children:"Scheduler \u4efb\u52a1\u6027\u80fd\u7edf\u8ba1"}),"\n",(0,d.jsxs)(n.p,{children:["Verilua \u5185\u7f6e\u4e86\u4e00\u4e2a Scheduler \u7684\u4efb\u52a1\u6027\u80fd\u7edf\u8ba1\u529f\u80fd\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u4eff\u771f\u5f00\u59cb\u4e4b\u524d\u5c06\u73af\u5883\u53d8\u91cf ",(0,d.jsx)(n.code,{children:"VL_PERF_TIME"})," \u8bbe\u7f6e\u4e3a ",(0,d.jsx)(n.code,{children:"1"})," \u6765\u52a8\u6001\u5f00\u542f\u8be5\u529f\u80fd\u3002\u4f8b\u5982\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",metastring:'title="Terminal"',children:"VL_PERF_TIME=1 xmake run TestDesign\n\n# or\nexport VL_PERF_TIME=1\nxmake run TestDesign\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5728\u4eff\u771f\u7ed3\u675f\u4e4b\u540e\uff0cVerilua \u4f1a\u81ea\u52a8\u8c03\u7528 ",(0,d.jsx)(n.code,{children:"scheduler:list_tasks()"})," \u6765\u8f93\u51fa\u4efb\u52a1\u6027\u80fd\u7edf\u8ba1\u4fe1\u606f\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u8f93\u51fa\u7684\u793a\u4f8b\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",metastring:'title="Terminal"',children:"[scheduler list tasks]:\n-------------------------------------------------------------\n[ 58254@fake_cmoclient_0/TLULAgent a task resolve]    0.39 ms   percent:  0.05%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[83942@fake_mmioclient_0/TLULAgent a task resolve]    1.93 ms   percent:  0.23%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[                       21509@unnamed_fork_task_0]    2.64 ms   percent:  0.31%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[           65687@fake_mmioclient_0 timeout check]    2.70 ms   percent:  0.32%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[               34459@fake_icache_0 timeout check]    3.46 ms   percent:  0.41%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[                                   49198@pf_init]    4.29 ms   percent:  0.50%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[     45191@fake_dcache_0/TLCAgent c task resolve]    7.32 ms   percent:  0.86%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[     49389@fake_dcache_0/TLCAgent e task resolve]    9.37 ms   percent:  1.10%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[75477@fake_mmioclient_0/TLULAgent d task resolve]   24.26 ms   percent:  2.84%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[ 87630@fake_cmoclient_0/TLULAgent d task resolve]   24.29 ms   percent:  2.85%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[    43364@fake_icache_0/TLULAgent a task resolve]   24.65 ms   percent:  2.89%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[     96595@fake_dcache_0/TLCAgent a task resolve]   25.38 ms   percent:  2.98%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[                               6330@send_pf_task]   26.54 ms   percent:  3.11%  \u2503\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[                              87302@recv_tlb_req]   31.96 ms   percent:  3.75%  \u2503\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[     28004@fake_dcache_0/TLCAgent b task resolve]   35.42 ms   percent:  4.15%  \u2503\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[    28108@fake_icache_0/TLULAgent d task resolve]   36.69 ms   percent:  4.30%  \u2503\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[     15833@fake_dcache_0/TLCAgent d task resolve]   40.14 ms   percent:  4.71%  \u2503\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[                                 63208@main_task]   51.69 ms   percent:  6.06%  \u2503\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[                   53008@fake_dcache_0 eval task]   175.71 ms   percent: 20.60% \u2503\u2588\u2588\u2588\u2588\u2588\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\n[                              27178@monitor_task]   324.09 ms   percent: 38.00% \u2503\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2503\ntotal_time: 0.85 s / 852.91 ms\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5176\u4ed6-scheduler-api",children:"\u5176\u4ed6 Scheduler API"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"scheduler:wakeup_task(<task_id>)"})}),"\n",(0,d.jsxs)(n.p,{children:["\u901a\u8fc7 ",(0,d.jsx)(n.code,{children:"<task_id>"})," \u5524\u9192\u4e00\u4e2a\u5df2\u7ecf\u7ed3\u675f\u7684\u4efb\u52a1\uff0c\u8fd9\u4e2a\u4efb\u52a1\u5fc5\u987b\u662f\u4e4b\u524d\u5df2\u7ecf\u88ab\u6ce8\u518c\u8fc7\u7684\u4efb\u52a1\uff0c\u5982\u679c\u4efb\u52a1\u4e4b\u524d\u6ca1\u6709\u6ce8\u518c\u8fc7\u6216\u8005\u8fd9\u4e2a\u4efb\u52a1\u8fd8\u5728\u8fd0\u884c\uff08\u6ca1\u6709\u7ed3\u675f\uff09\uff0c\u90a3\u4e48\u8c03\u7528\u7684\u65f6\u5019\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"scheduler:try_wakeup_task(<task_id>)"})}),"\n",(0,d.jsx)(n.p,{children:"\u5c1d\u8bd5\u5524\u9192\u4e00\u4e2a\u4efb\u52a1\uff0c\u5982\u679c\u8fd9\u4e2a\u4efb\u52a1\u8fd8\u5728\u8fd0\u884c\uff0c\u5219\u4ec0\u4e48\u90fd\u4e0d\u505a\uff0c\u5982\u679c\u8fd9\u4e2a\u4efb\u52a1\u5df2\u7ecf\u7ed3\u675f\uff0c\u5219\u5524\u9192\u8fd9\u4e2a\u4efb\u52a1\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:"scheduler:try_wakeup_task(123)\n\n-- equivalent to\n\nif scheduler:check_task_exists(123) then\n    scheduler:wakeup_task(123)\nend\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"scheduler:remove_task(<task_id>)"}),"\n\u79fb\u9664\u4e00\u4e2a\u4efb\u52a1\uff08\u53ef\u4ee5\u662f\u6b63\u5728\u8fd0\u884c\u7684\u4efb\u52a1\uff09\uff0c\u8fd9\u4e2a\u4efb\u52a1\u5fc5\u987b\u662f\u4e4b\u524d\u5df2\u7ecf\u88ab\u6ce8\u518c\u8fc7\u7684\u4efb\u52a1\uff0c\u5982\u679c\u4efb\u52a1\u4e4b\u524d\u6ca1\u6709\u6ce8\u518c\u8fc7\uff0c\u90a3\u4e48\u8c03\u7528\u7684\u65f6\u5019\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"start-task-\u548c-finish-task",children:"Start Task \u548c Finish Task"}),"\n",(0,d.jsx)(n.p,{children:"Verilua \u4e2d\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e9b\u5728\u4eff\u771f\u5f00\u59cb\u6216\u8005\u7ed3\u675f\u65f6\u8c03\u7528\u7684\u4efb\u52a1\uff0c\u5206\u522b\u79f0\u4e3a Start Task \u548c Finish Task\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["\u901a\u8fc7 ",(0,d.jsx)(n.code,{children:"initial { ... }"})," / ",(0,d.jsx)(n.code,{children:'verilua "startTask" { ... }'})," \u521b\u5efa Start Task\uff1b"]}),"\n",(0,d.jsx)(n.p,{children:"Start Task \u53ef\u4ee5\u7531\u591a\u4e2a\u51fd\u6570\u7ec4\u6210\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'initial {\n    function ()\n        print("Simulation started!")\n    end,\n    -- Other tasks...\n}\n\n-- or\nverilua "startTask" {\n    function ()\n        print("Simulation started!")\n    end,\n    -- Other tasks...\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["\u901a\u8fc7 ",(0,d.jsx)(n.code,{children:"final { ... }"})," / ",(0,d.jsx)(n.code,{children:'verilua "finishTask" { ... }'})," \u521b\u5efa Finish Task\u3002"]}),"\n",(0,d.jsx)(n.p,{children:"Finish Task \u53ef\u4ee5\u7531\u591a\u4e2a\u51fd\u6570\u7ec4\u6210\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-lua",children:'final {\n    function ()\n        print("Simulation finished!")\n    end,\n    -- Other tasks...\n}\n\n-- or\nverilua "finishTask" {\n    function ()\n        print("Simulation finished!")\n    end,\n    -- Other tasks...\n}\n'})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>r});var i=s(6540);const d={},l=i.createContext(d);function c(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);